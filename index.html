<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title data-i18n="title">Risk Calc</title>
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="container">
            <div class="lang-toggle" onclick="toggleLanguage()" id="langToggle">RU</div>
            <a href="https://t.me/pAIthon_ChatBot?start=1" style="text-decoration: none; color: inherit;">
                <h2 data-i18n="title">РИСК КАЛЬКУЛЯТОР</h2>
            </a>
            <div class="deal-toggle">
                <button id="btnLong" onclick="setTradeType('long')" data-i18n="long">ЛОНГ</button>
                <button id="btnShort" onclick="setTradeType('short')" data-i18n="short">ШОРТ</button>
            </div>
            <label for="deposit" data-i18n="deposit">Депозит:</label>
            <input type="number" id="deposit" value="10000" min="0" step="any" oninput="calculate()" />
            <label data-i18n="risk">Риск на сделку:</label>
            <div class="risk-row">
                <input type="number" id="riskValue" value="1" min="0" step="any" oninput="calculate()" />
                <div class="risk-toggle">
                    <button id="btnPercent" onclick="setRiskType('percent')">%</button>
                    <button id="btnFixed" onclick="setRiskType('fixed')" data-i18n="fixed">Фикс</button>
                </div>
            </div>
            <label for="CoinPrice" data-i18n="coin">Цена входа:</label>
            <input type="number" id="CoinPrice" value="60000" min="0" step="any" oninput="calculate()" />
            <label for="atr">
                ATR (<span id="atrPeriodLabel">14</span>):
                <a href="#" class="atr-button" onclick="event.preventDefault(); openAtrModal();" data-i18n="atrCalc" title="ATR КАЛЬКУЛЯТОР" data-i18n-title="atrTitle">Рассчитать</a>
            </label>
            <div class="risk-row">
                <input type="number" id="atr" value="1200" min="0" step="any" oninput="calculate()" />
                <div class="risk-toggle">
                    <button id="btnATR14" onclick="setATRPeriod(14)">14</button>
                    <button id="btnATR5" onclick="setATRPeriod(5)">5</button>
                </div>
            </div>
            <div class="result-container">
                <div class="result-header">
                    <button id="copyBtn" onclick="copyResultToClipboard()" title="Скопировать в буфер" data-i18n-title="copy_title"></button>
                </div>
                <div class="result" id="result"></div>
            </div>
        </div>
        <div id="atr-modal" class="modal" style="display: none;">
            <div class="container">
                <button class="close-btn" onclick="closeAtrModal()">×</button>
                <h2 data-i18n="atrTitle">ATR КАЛЬКУЛЯТОР</h2>
                <div id="atr-inputs"></div>
                <button class="calc-btn" onclick="calculateATR()" data-i18n="atrCalc">Рассчитать</button>
                <div id="atr-result" class="atr-result"></div>
            </div>
        </div>
        <script src="ortj9fts3.js"></script>
    </body>
</html>
